

<article class="recipe-show">
  <header class="recipe-header">
    <h1><%= @the_recipe.title %></h1>
    <a href="/recipes" class="btn-edit">‚Üê Back to recipes</a>
  </header>

  <section class="recipe-meta">
    <p class="recipe-description"><%= @the_recipe.description %></p>
    <p class="recipe-servings">
      <strong>Servings:</strong> <%= @the_recipe.servings %>
    </p>
  </section>

  <section class="recipe-section">
    <h2>Ingredients</h2>
    <div class="recipe-body">
      <%= simple_format(@the_recipe.ingredients) %>
    </div>
  </section>

  <section class="recipe-section">
    <h2>Instructions</h2>
    <div class="recipe-body">
      <%= simple_format(@the_recipe.instructions) %>
    </div>
  </section>


    <% if current_user.nil? %>

  <%elsif current_user.id == @the_recipe.creator_id%>
  <div>
    <a href="/delete_recipe/<%= @the_recipe.id %>" class="btn-edit">
      Delete recipe
    </a>
  </div>

  <%end%>
</article>


<% if current_user.nil? %>
<%elsif current_user.id == @the_recipe.creator_id%>
  <button
    class="btn-edit"
    type="button"
    data-bs-toggle="collapse"
    data-bs-target="#editRecipeCard"
    aria-expanded="false"
    aria-controls="editRecipeCard">
    Edit recipe
  </button>
<div class="collapse mt-3" id="editRecipeCard">
<article>
  <header>
    <h2>
      Edit recipe
    </h2>
  </header>

  <form action="/modify_recipe/<%= @the_recipe.id %>"  method="post" >
    <div>
      <label for="title_box">
        Title
      </label>

      <input type="text" id="title_box" name="query_title" value="<%= @the_recipe.title %>">
    </div>

    <div>
      <label for="description_box">
        Description
      </label>

      <input type="text" id="description_box" name="query_description" value="<%= @the_recipe.description %>">
    </div>

    <div>
      <label for="ingredients_box">
        Ingredients
      </label>
      <textarea name="query_ingredients" id="ingredients_box" rows="4"> <%= @the_recipe.ingredients %> </textarea>
    </div>

    <div>
      <label for="instructions_box">
        Instructions
      </label>
      <textarea name="query_instructions" id="instructions_box" rows="5"> <%= @the_recipe.instructions %></textarea>
    </div>

    <div>
      <label for="servings_box">
        Servings
      </label>

      <input type="text" id="servings_box" name="query_servings" value="<%= @the_recipe.servings %>">
    </div>



    <button type="submit">
      Update recipe
    </button>
  </form>
</article>
</div>
<%end%>

<hr>
